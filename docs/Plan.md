# План автоматизации тестирования
## Перечень автоматизируемых сценариев
**Позитивные сценарии тестирования**
<details>
  <summary>1) Обычная оплата по дебетовой карте.</summary> 

  **Шаги:**
1. Открыть веб-сервис ["Путешествие дня"](http://localhost:8080).
2. Нажать кнопку «Купить».
3. В открывшейся форме заполнить поля валидными данными.
4. Нажать кнопку «Продолжить».
      
  **Кейсы для проверки:**
   
 **1.1) Проверка всплывающего сообщения о результате платежа**
 
  *Ожидаемый результат:*
На странице появляется всплывающее окно с сообщением о результате операции "Успешно! Операция одобрена банком".

 **1.2) Проверка суммы платежа в БД**
  
  *Ожидаемый результат:*
В базе данных значение amount соответствует заявленной сумме платежа за тур на странице сайта.
 
 **1.3) Проверка соответствия id платежа в БД**
  
  *Ожидаемый результат:*
В базе данных значение payment_id из таблицы order_entity соответсвует значению transaction_id из таблицы payment_entity.
     
 **1.4) Проверка соответствия статуса платежа в БД**
  
  *Ожидаемый результат:*
В базе данных значение status=Approved.</details>



<details>
  <summary>2) Уникальная технология: выдача кредита по данным банковской карты.</summary>
  
 **Шаги:**
1. Открыть веб-сервис ["Путешествие дня"](http://localhost:8080).
2. Нажать кнопку «Купить в кредит».
3. В открывшейся форме заполнить поля валидными данными.
4. Нажать кнопку «Продолжить».
   
  **Кейсы для проверки:**
   
 **2.1) Проверка всплывающего сообщения о результате платежа**
  *Ожидаемый результат:*
 На странице появляется всплывающее окно с сообщением о результате операции "Успешно! Операция одобрена банком"
  
 **2.2) Проверка соответствия id платежа в БД**
  
  *Ожидаемый результат:*
В базе данных значение credit_id из таблицы order_entity соответсвует значению bank_id из таблицы credit_request_entity.
     
 **2.3) Проверка соответствия статуса платежа в БД**
  
  *Ожидаемый результат:*
В базе данных значение status=Approved.</details>
  
**Негативные сценарии тестирования**
<details>
  <summary>1) Отправка пустой формы.</summary>
  
 1. Открыть веб-сервис ["Путешествие дня"](http://localhost:8080).
 2. Нажать кнопку «Купить».
 3. Нажать кнопку «Продолжить».

   *Ожидаемый результат:*
 - Под каждым полем выводится сообщение об ошибке;
 - данные не записываются в БД.</details>
<details>
  <summary>2) Поле "Номер карты".</summary>
  
 **2.1) Ввести невалидный номер карты**
 
   *Ожидаемый результат:*
   
- после отправления данных выводится сообщение "Ошибка! Банк отказал в проведении операции";
- данные об операции записываются в БД.

**2.2) Не заполнять поле**

   *Ожидаемый результат:*

- под полем "Номер карты" появляется сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.

**2.3) Ввести номер неизвестной карты**
 
 *Ожидаемый результат:*

- после отправления данных выводится сообщение "Ошибка! Банк отказал в проведении операции";
- данные не отправляются и не записываются в БД.

**2.4) Ввести неполный номер карты**
  
  *Ожидаемый результат:*

- под полем "Номер карты" появляется сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.</details>
<details>
<summary>3) Поле "Месяц".</summary>
  
 **3.1) Не заполнять поле**

   *Ожидаемый результат:*

- под полем "Месяц" появится сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.
 
 **3.2) Ввести нижнее граничное значение в поле "месяц" (00)**
 
   *Ожидаемый результат:*
   
- под полем "Месяц" появляется сообщение "Неверно указан срок действия карты";
- данные не отправляются и не записываются в БД.

**3.3) Ввести верхнее граничное значение в поле "месяц" (>12)**

   *Ожидаемый результат:*

- под полем "Месяц" появляется сообщение "Неверно указан срок действия карты";
- данные не отправляются и не записываются в БД.

**3.4) Ввести значение одной цифрой**
  
  *Ожидаемый результат:*

- под полем "Месяц" появляется сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.

**3.5) Ввести месяц на один меньше текущего**
  
  *Ожидаемый результат:*

- под полем "Месяц" появляется сообщение "Неверно указан срок действия карты";
- данные не отправляются и не записываются в БД.</details>
<details>
<summary>4) Поле "Год".</summary>
  
 **4.1) Не заполнять поле**

   *Ожидаемый результат:*

- под полем "Год" появится сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.
 
 **4.2) Ввести прошлый год (текущий - 1)**
 
   *Ожидаемый результат:*
   
- под полем "Год" появляется сообщение "Истёк срок действия карты";
- данные не отправляются и не записываются в БД.

**4.3) Ввести год из будущего (текущий + 6)**

   *Ожидаемый результат:*

- под полем "Год" появляется сообщение "Неверно указан срок действия карты";
- данные не отправляются и не записываются в БД.

**4.4) Ввести значение одной цифрой**
  
  *Ожидаемый результат:*

- под полем "Год" появляется сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.</details>
<details>
<summary>5) Поле "Владелец".</summary>
  
 **5.1) Не заполнять поле**

   *Ожидаемый результат:*

- под полем "Владелец" появится сообщение "Поле обязательно для заполнения";
- данные не отправляются и не записываются в БД.
 
 **5.2) Ввести символы**
 
   *Ожидаемый результат:*
   
- под полем "Владелец" появляется сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.

 **5.3) Ввести цифры**
 
   *Ожидаемый результат:*
   
- под полем "Владелец" появляется сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.

 **5.4) Ввести имя на кириллице**
 
   *Ожидаемый результат:*
   
- под полем "Владелец" появляется сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.</details>
<details>
<summary>6) Поле "CVC/CVV".</summary>
  
 **6.1) Не заполнять поле**

   *Ожидаемый результат:*

- под полем "CVC/CVV" появится сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.
 
 **6.2) Ввести двузначное число**
 
   *Ожидаемый результат:*
   
- под полем "CVC/CVV" появится сообщение "Неверный формат";
- данные не отправляются и не записываются в БД.</details>

## Перечень используемых инструментов с обоснованием выбора
1) IntelliJ IDEA - интегрированная среда разработки удобна для написания автотестов на Java;
2) JDK 11- среда разработки программного обеспечения, используемая на Java;
3) Gradle - гибкий инструмент автоматизации сборки;
4) Selenide - инструмент позволяющий быстро и просто писать и запускать автотесты;
5) JUnit Jupiter - среда тестирования для приложений Java;
6) Faker - библитека, позволяющая генерацировать данные;
7) Docker - инструмент, с помощью которого удобно запускать приложения в изолированных контейнерах на одном сервере;
8) DBeaver - приложение, позволяющее удобно взаимодействовать с базами данных.
## Перечень и описание возможных рисков при автоматизации
1) Отсутствие документации на приложение. Написание автотестов в основном базируется на исследовательском ручном тестировании и логике.
2) Зависимость автотестов от элементов веб-сервиса. В случае изменения пользовательского интерфейса вероятнее всего потребуется актуализация автотестов.
3) Подключение к двум видам БД.
## Интервальная оценка с учётом рисков (в часах)
Для написание дипломного проекта потребуется ~ 48ч рабочего времени.
## План сдачи работ

---   | Написание автотестов | Отчёты по итогам тестирования  | Отчет об автоматизации тестирования
--- | --- | --- | ---
Оценка трудозатрат | 30ч | 10ч | 8ч 
Дата сдачи | до 28.02.23 | до 10.03.23 | до 16.03.23
